<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="A very basic introduction to scientific Python programming">
<meta name="keywords" content="text editor,program file,assignment statement,print statement,variable,objects,formatting of numbers,printf syntax,format string syntax,while loop,boolean expression,Python Online Tutor,list,for loop,list comprehension,array,mathematical functions,import of modules,plotting,graphics,visualization,function (in Python),global variables,keyword arguments,default arguments,vectorization,vectorized functions,multiple return values,branching,if test,boolean expression,vectorizing if tests,linear systems,sparse matrix,tridigonal matrix">

<title>A very basic introduction to scientific Python programming</title>

<!-- Bootstrap style: bootstrap -->
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }

/* Add scrollbar to dropdown menus in bootstrap navigation bar */
.dropdown-menu {
   height: auto;
   max-height: 400px;
   overflow-x: hidden;
}

/* Adds an invisible element before each target to offset for the navigation
   bar */
.anchor::before {
  content:"";
  display:block;
  height:50px;      /* fixed header height for style bootstrap */
  margin:-50px 0 0; /* negative fixed header height */
}
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('Table of contents',
               1,
               'table_of_contents',
               'table_of_contents'),
              ('Variables, loops, lists, and arrays',
               1,
               'basics:basic:objects',
               'basics:basic:objects'),
              ('Getting access to Python',
               2,
               'basics:accesspy',
               'basics:accesspy'),
              ('Mac and Windows', 3, None, '___sec2'),
              ('Ubuntu', 3, None, '___sec3'),
              ('Web access', 3, None, '___sec4'),
              ('Mathematical example', 2, None, '___sec5'),
              ('A program for evaluating a formula',
               2,
               'basics:formula:eval',
               'basics:formula:eval'),
              ('Formatted output with text and numbers',
               2,
               'basics:printf',
               'basics:printf'),
              ('While loops', 2, 'basics:while', 'basics:while'),
              ('Lists', 2, 'basics:list', 'basics:list'),
              ('For loops', 2, 'basics:for', 'basics:for'),
              ('Arrays', 2, 'basics:numpy', 'basics:numpy'),
              ('Mathematical functions', 2, 'basics:math', 'basics:math'),
              ('Plotting', 2, 'basics:plot', 'basics:plot'),
              ('Functions and branching',
               1,
               'basics:func:branching',
               'basics:func:branching'),
              ('Functions', 2, 'basics:func', 'basics:func'),
              ('A more general mathematical formula',
               2,
               'basics:formula:piecewise',
               'basics:formula:piecewise'),
              ('If tests', 2, 'basics:if', 'basics:if'),
              ('Using the `where` function', 3, None, '___sec18'),
              ('Using array indexing', 3, None, '___sec19'),
              ('Array view versus array copying', 2, None, '___sec20'),
              ('Linear systems', 2, None, '___sec21'),
              ('Files', 1, 'basics:files', 'basics:files'),
              ('File reading', 2, None, '___sec23'),
              ('File writing', 2, None, '___sec24'),
              ('Classes', 1, 'basics:class', 'basics:class'),
              ('A very simple class', 2, None, '___sec26'),
              ('A class for representing a mathematical function',
               2,
               None,
               '___sec27'),
              ('The class code', 3, None, '___sec28'),
              ('Dissection', 3, None, '___sec29'),
              ('Exercises', 1, 'basics:exer', 'basics:exer'),
              ('Exercise 1: Program a formula',
               2,
               'basics:exer:formula1',
               'basics:exer:formula1'),
              ('Exercise 2: Combine text and numbers in output',
               2,
               'basics:exer:printf1',
               'basics:exer:printf1'),
              ('Exercise 3: Program a while loop',
               2,
               'basics:exer:while1',
               'basics:exer:while1'),
              ('Exercise 4: Create a list with a while loop',
               2,
               'basics:exer:while2',
               'basics:exer:while2'),
              ('Exercise 5: Program a for loop',
               2,
               'basics:exer:for1',
               'basics:exer:for1'),
              ('Exercise 6: Write a Python function',
               2,
               'basics:exer:func1',
               'basics:exer:func1'),
              ('Exercise 7: Return three values from a Python function',
               2,
               'basics:exer:func3',
               'basics:exer:func3'),
              ('Exercise 8: Plot a function',
               2,
               'basics:exer:plot1',
               'basics:exer:plot1'),
              ('Exercise 9: Plot two functions',
               2,
               'basics:exer:plot2',
               'basics:exer:plot2'),
              ('Exercise 10: Measure the efficiency of vectorization',
               2,
               'basics:exer:timeit',
               'basics:exer:timeit')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="basics.html">A very basic introduction to scientific Python programming</a>
  </div>

  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._basics000.html#table_of_contents" style="font-size: 80%;"><b>Table of contents</b></a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:basic:objects" style="font-size: 80%;"><b>Variables, loops, lists, and arrays</b></a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:accesspy" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Getting access to Python</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#___sec2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac and Windows</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#___sec3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ubuntu</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#___sec4" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web access</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#___sec5" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Mathematical example</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:formula:eval" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A program for evaluating a formula</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:printf" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Formatted output with text and numbers</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:while" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;While loops</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:list" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Lists</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:for" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;For loops</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:numpy" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Arrays</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:math" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Mathematical functions</a></li>
     <!-- navigation toc: --> <li><a href="._basics001.html#basics:plot" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Plotting</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#basics:func:branching" style="font-size: 80%;"><b>Functions and branching</b></a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#basics:func" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Functions</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#basics:formula:piecewise" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A more general mathematical formula</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#basics:if" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;If tests</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#___sec18" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using the <code>where</code> function</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#___sec19" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using array indexing</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#___sec20" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Array view versus array copying</a></li>
     <!-- navigation toc: --> <li><a href="._basics002.html#___sec21" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Linear systems</a></li>
     <!-- navigation toc: --> <li><a href="._basics003.html#basics:files" style="font-size: 80%;"><b>Files</b></a></li>
     <!-- navigation toc: --> <li><a href="._basics003.html#___sec23" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;File reading</a></li>
     <!-- navigation toc: --> <li><a href="._basics003.html#___sec24" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;File writing</a></li>
     <!-- navigation toc: --> <li><a href="#basics:class" style="font-size: 80%;"><b>Classes</b></a></li>
     <!-- navigation toc: --> <li><a href="#___sec26" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A very simple class</a></li>
     <!-- navigation toc: --> <li><a href="#___sec27" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A class for representing a mathematical function</a></li>
     <!-- navigation toc: --> <li><a href="#___sec28" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The class code</a></li>
     <!-- navigation toc: --> <li><a href="#___sec29" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dissection</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer" style="font-size: 80%;"><b>Exercises</b></a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:formula1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 1: Program a formula</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:printf1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 2: Combine text and numbers in output</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:while1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 3: Program a while loop</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:while2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 4: Create a list with a while loop</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:for1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 5: Program a for loop</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:func1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 6: Write a Python function</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:func3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 7: Return three values from a Python function</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:plot1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 8: Plot a function</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:plot2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 9: Plot two functions</a></li>
     <!-- navigation toc: --> <li><a href="._basics005.html#basics:exer:timeit" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 10: Measure the efficiency of vectorization</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0004"></a>
<!-- !split -->

<h1 id="basics:class" class="anchor">Classes</h1>

<p>
All objects in Python are in fact implemented as classes, but you can
program with objects without knowing about classes. Nevertheless,
the class concept is a powerful tool and some basic knowledge will
make it easier to understand much useful Python information that is
floating around.

<h2 id="___sec26" class="anchor">A very simple class </h2>

<p>
A class packs together a set of variables and a set of functions. All
functions can access all variables. <button type="button" class="btn btn-primary btn-xs" rel="tooltip" data-placement="top" title="In classes, the functions are called methods and the variables are called attributes."><a href="#def_footnote_1" id="link_footnote_1" style="color: white">1</a></button> The idea is
to encapsulate variables and functions in logical units such that a
larger program can be composed by combing such units (classes).

<p id="def_footnote_1"><a href="#link_footnote_1"><b>1:</b></a> In classes, the functions are called
<em>methods</em> and the variables are called <em>attributes</em>.</p>

<p>
Here is a trivial class that has one variable <code>a</code> and one
function <code>dump</code> that writes the contents of <code>a</code>:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Trivial</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>, a):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>a <span style="color: #666666">=</span> a

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">dump</span>(<span style="color: #008000">self</span>):
        <span style="color: #008000; font-weight: bold">print</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>a
</pre></div>
<p>
How can we use this class? First, we must make an <em>instance</em> (object)
of the class:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>t <span style="color: #666666">=</span> Trivial(a<span style="color: #666666">=4</span>)
</pre></div>
<p>
The syntax <code>Trivial(a=4)</code> implies a call to the <code>__init__</code> method (function)
with <code>4</code> as the value of the argument <code>a</code>. Inside <code>__init__</code>,
we store the value of <code>a</code> as an attribute in the class: <code>self.a</code>.
If there were several methods in the class, all of them could then
access <code>self.a</code> (as if <code>a</code> were some global variable in the class).
The <code>__init__</code> function is called a <em>constructor</em> since it is used
to construct an instance (object) of the class.

<p>
Having an instance <code>t</code> of class <code>Trivial</code>, we can call the <code>dump</code> method
as follows:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>t<span style="color: #666666">.</span>dump()
</pre></div>
<p>
Even though both <code>__init__</code> and <code>dump</code> have <code>self</code> as first argument,
this argument <em>is not used in a call</em>.

<p>
<div class="alert alert-block alert-success alert-text-normal"><b>The <code>self</code> argument.</b>
It takes time and experience to understand the <code>self</code> argument in
class methods.

<ol>
<li> <code>self</code> must always be the first argument.</li>
<li> <code>self</code> is never used in calls.</li>
<li> <code>self</code> is used to access attributes and methods inside methods.</li>
</ol>

We refer to a <a href="http://hplgit.github.io/primer.html/doc/pub/class/index.html" target="_self">more comprehensive text on classes</a>
for better explanation of <code>self</code>.
</div>


<h2 id="___sec27" class="anchor">A class for representing a mathematical function </h2>

<p>
The Python implementation of the mathematical function

$$ s(t; v_0, a) = v_0t + \frac{1}{2}at^2$$

can benefit from being implemented as a class. The reason is that
\( s \) is a function of one variable, \( t \), so it should be called as
\( s(t) \), but the function also contains two parameters, \( v_0 \) and \( a \).
Using a class, we can pack \( v_0 \) and \( a \) together with a function
computing \( s(t) \) and that can be called with one argument.

<h3 id="___sec28" class="anchor">The class code </h3>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Distance</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>, v0, a):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>v0 <span style="color: #666666">=</span> v0
        <span style="color: #008000">self</span><span style="color: #666666">.</span>a <span style="color: #666666">=</span> a

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__call__</span>(<span style="color: #008000">self</span>, t):
        v0, a <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>v0, <span style="color: #008000">self</span><span style="color: #666666">.</span>a  <span style="color: #408080; font-style: italic"># make local variables</span>
        <span style="color: #008000; font-weight: bold">return</span> v0<span style="color: #666666">*</span>t <span style="color: #666666">+</span> <span style="color: #666666">0.5*</span>a<span style="color: #666666">*</span>t<span style="color: #666666">**2</span>
</pre></div>

<h3 id="___sec29" class="anchor">Dissection </h3>

<p>
The class has two methods (functions). The name of a method can
be freely chosen by the programmer, say <code>dump</code> as we used above,
but here we have used three
special names, starting and
ending with double underscores, which allows us to use special
attractive syntax in the calls (such methods are actually known as
<em>special methods</em>).

<p>
The constructor <code>__init__</code> has one purpose: storing data in
class attributes, here <code>self.v0</code> and <code>self.a</code>. We can then access
these data in class methods.

<p>
The <code>__call__</code> method is used to evaluate \( s(t) \). It has one
argument (<code>self</code> does not count since it is never used in calls).
This special methods allows us to view a class instance as if
were a function. Let us illustrate by some code:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>s <span style="color: #666666">=</span> Distance(v0<span style="color: #666666">=2</span>, a<span style="color: #666666">=0.5</span>)  <span style="color: #408080; font-style: italic"># create instance</span>
v <span style="color: #666666">=</span> s(t<span style="color: #666666">=0.2</span>)               <span style="color: #408080; font-style: italic"># runs s.__call__(t=0.2)</span>
</pre></div>
<p>
The last line has some magic: <code>s</code> is a class instance, not a function,
but still we can write <code>s(t=0.2)</code> or <code>s(0.2)</code> as if <code>s</code> were
a function. This is the purpose of the special method <code>__call__</code>:
to allow such syntax. Actually, <code>s(0.2)</code> means
<code>s.__call__(0.2)</code>. The nice result is that <code>s</code> looks like a
function, it takes one argument <code>t</code>, as the mathematical function \( s(t) \),
but it also contains values of the two parameters \( v_0 \) and \( a \).

<p>
In general, for a function \( f(x,y,z; p_1,p_2,\ldots,p_n) \), here with
three independent variables and \( n \) parameters \( p_1,p_2,\ldots,p_n \),
we can pack the function and the parameters together in a class:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">F</span>:
    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>, p1, p2, <span style="color: #666666">...</span>):
        <span style="color: #008000">self</span><span style="color: #666666">.</span>p1 <span style="color: #666666">=</span> p1
        <span style="color: #008000">self</span><span style="color: #666666">.</span>p2 <span style="color: #666666">=</span> p2
        <span style="color: #666666">...</span>

    <span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__call__</span>(<span style="color: #008000">self</span>, x, y, z):
        <span style="color: #408080; font-style: italic"># return formula involving x, y, z and self.p1, self.p2 ...</span>
</pre></div>
<p>
The \( f \) function is initialized by

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span>f <span style="color: #666666">=</span> F(p1<span style="color: #666666">=...</span>, p2<span style="color: #666666">=...</span>, <span style="color: #666666">...</span>)
</pre></div>
<p>
and later called as <code>f(x, y, z)</code>.

<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pagination">
<li><a href="._basics003.html">&laquo;</a></li>
  <li><a href="._basics000.html">1</a></li>
  <li><a href="._basics001.html">2</a></li>
  <li><a href="._basics002.html">3</a></li>
  <li><a href="._basics003.html">4</a></li>
  <li class="active"><a href="._basics004.html">5</a></li>
  <li><a href="._basics005.html">6</a></li>
  <li><a href="._basics005.html">&raquo;</a></li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

