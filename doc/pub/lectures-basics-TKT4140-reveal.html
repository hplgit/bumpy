<!DOCTYPE html>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Introduction to Scientific Python programming - Apdapted to TKT4140 Numerical Methods with Computer Laboratory">
<meta name="keywords" content="text editor,program file,assignment statement,print statement,variable,objects,format string syntax,while loop,boolean expression,Python Online Tutor,list,for loop,array,mathematical functions,import of modules,plotting,graphics,visualization,global variables,keyword arguments,vectorization,vectorized functions,multiple return values,branching,if test,boolean expression,vectorizing if tests">

<title>Introduction to Scientific Python programming - Apdapted to TKT4140 Numerical Methods with Computer Laboratory</title>







<!-- reveal.js: http://lab.hakim.se/reveal-js/ -->

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<link rel="stylesheet" href="reveal.js/css/reveal.css">
<link rel="stylesheet" href="reveal.js/css/theme/darkgray.css" id="theme">
<!--
<link rel="stylesheet" href="reveal.js/css/reveal.css">
<link rel="stylesheet" href="reveal.js/css/theme/beige.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/beigesmall.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/serif.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/night.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/moon.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/sky.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/darkgray.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/default.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/cbc.css" id="theme">
<link rel="stylesheet" href="reveal.js/css/theme/simula.css" id="theme">
-->

<!-- For syntax highlighting -->
<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

<!-- If the query includes 'print-pdf', use the PDF print sheet -->
<script>
document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
</script>

<style type="text/css">
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    p.caption { width: 80%; font-size: 60%; font-style: italic; text-align: left; }
    hr.figure { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .reveal .alert-text-small   { font-size: 80%;  }
    .reveal .alert-text-large   { font-size: 130%; }
    .reveal .alert-text-normal  { font-size: 90%;  }
    .reveal .alert {
             padding:8px 35px 8px 14px; margin-bottom:18px;
             text-shadow:0 1px 0 rgba(255,255,255,0.5);
             border:5px solid #bababa;
             -webkit-border-radius: 14px; -moz-border-radius: 14px;
             border-radius:14px
             background-position: 10px 10px;
             background-repeat: no-repeat;
             background-size: 38px;
             padding-left: 30px; /* 55px; if icon */
     }
     .reveal .alert-block {padding-top:14px; padding-bottom:14px}
     .reveal .alert-block > p, .alert-block > ul {margin-bottom:1em}
     /*.reveal .alert li {margin-top: 1em}*/
     .reveal .alert-block p+p {margin-top:5px}
     /*.reveal .alert-notice { background-image: url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_notice.png); }
     .reveal .alert-summary  { background-image:url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_summary.png); }
     .reveal .alert-warning { background-image: url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_warning.png); }
     .reveal .alert-question {background-image:url(http://hplgit.github.io/doconce/bundled/html_images/small_gray_question.png); } */

</style>



<!-- Styles for table layout of slides -->
<style type="text/css">
td.padding {
  padding-top:20px;
  padding-bottom:20px;
  padding-right:50px;
  padding-left:50px;
}
</style>

</head>

<body>
<div class="reveal">

<!-- Any section element inside the <div class="slides"> container
     is displayed as a slide -->

<div class="slides">





<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    



<section>
<!-- ------------------- main content ---------------------- -->



<center><h1 style="text-align: center;">Introduction to Scientific Python programming - Apdapted to TKT4140 Numerical Methods with Computer Laboratory</h1></center>  <!-- document title -->

<p>
<!-- author(s): Hans Petter Langtangen, and Leif Rune Hellevik -->

<center>
<b>Hans Petter Langtangen</b> [1, 2] (<tt>hpl at simula.no</tt>)
</center>

<center>
<b>Leif Rune Hellevik</b> [3] (<tt>leif.r.hellevik at ntnu.no</tt>)
</center>


<p>&nbsp;<br>
<!-- institution(s) -->

<center>[1] <b>Simula Research Laboratory</b></center>
<center>[2] <b>University of Oslo</b></center>
<center>[3] <b>Biomechanichs Group, Departement of Structural Engineering NTNU</b></center>
<p>&nbsp;<br>
<center><h4>Mar 16, 2015</h4></center> <!-- date -->
<p>

</section>


<section>

<h2>Table of contents</h2>

<p>
&nbsp; &nbsp; &nbsp; <a href="#___sec0"> This is a very quick intro to Python programming </a><br>
<a href="#basics:basic:objects"> Variables, loops, lists, and arrays </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:accesspy"> Do you have access to Python? </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec3"> Mathematical example </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:formula:eval"> A program for evaluating a formula </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec5"> Assignment statements assign a name to an object </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:printf"> Formatted output with text and numbers </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:while"> Programming with a while loop </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec8"> Output of the previous program </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec9"> Structure of a while loop </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec10"> Let's take a closer look at the output of our program </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec11"> Let's examine the program in the Python Online Tutor </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec12"> Ooops, why is <code>a &lt;= 1.2</code> when <code>a</code> is <code>1.2</code>? Round-off errors! </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec13"> Rule: never <code>a == b</code> for real <code>a</code> and <code>b</code>! Always use a tolerance! </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:list"> A list collects several objects in a given sequence </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec15"> Store our table in two lists, one for each column </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:for"> For loops </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec17"> Traditional for loop: integer counter over list/array indices </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec18"> Let's replace our while loop by a for loop </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec19"> Traversal of multiple lists at the same time with <code>zip</code> </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:numpy"> Arrays are computationally efficient lists of numbers </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec21"> Examples on using arrays </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec22"> <code>numpy</code> functions creates entire arrays at once </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec23"> Let's use arrays in our previous program </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:math"> Standard mathematical functions are found in the <code>math</code> module </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec25"> Use the <code>numpy</code> module for standard mathematical functions applied to arrays </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec26"> Copies and views of numpy arrays </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec27"> Tridiagonal and sparse matrices </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:plot"> Plotting </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec29"> Plotting of multiple curves </a><br>
<a href="#basics:func:branching"> Functions and branching </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:func"> Functions </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec32"> Functions can have multiple arguments </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec33"> Keyword arguments are arguments with default values </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec34"> Vectorization speeds up the code </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec35"> Python functions written for scalars normally work for arrays too! </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec36"> Python functions can return multiple values </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:formula:piecewise"> A more general mathematical formula (part I) </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec38"> A more general mathematical formula (part II) </a><br>
&nbsp; &nbsp; &nbsp; <a href="#basics:if"> Basic if-else tests </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec40"> Multi-branch if tests </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec41"> Implementation of a piecewisely defined function with if </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec42"> Python functions containing if will not accept array arguments </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec43"> Remedy 1: Call the function with scalar arguments </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec44"> Remedy 2: Vectorize the if test with <code>where</code> </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec45"> Remedy 3: Vectorize the if test with array indexing </a><br>
<a href="#basics:files"> Files </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec47"> File reading </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec48"> Code for reading files with lines <code>variable = value</code> </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec49"> Splitting lines into words is a frequent operation </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec50"> The magic <code>eval</code> function </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec51"> Implementing a calculator in Python </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec52"> Modern Python often applies the <code>with</code> statement for file handling </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec53"> File writing </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec54"> Simplified writing of tabular data to file via <code>numpy.savetxt</code> </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec55"> Simplified reading of tabular data from file via <code>numpy.loadtxt</code> </a><br>
<a href="#basics:class"> Classes </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec57"> A very simple class </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec58"> How can we use this class? </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec59"> The <code>self</code> argument is a difficult thing for newcomers... </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec60"> A class for representing a mathematical function </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec61"> The class code </a><br>
&nbsp; &nbsp; &nbsp; <a href="#___sec62"> Class implementation of \( f(x,y,z; p_1,p_2,\ldots,p_n) \) </a><br>
</p>
<p>

</section>


<section>

<h2 id="___sec0">This is a very quick intro to Python programming </h2>

<ul>
 <p><li> variables for numbers, lists, and arrays</li>
 <p><li> while loops and for loops</li>
 <p><li> functions</li>
 <p><li> if tests</li>
 <p><li> plotting</li>
 <p><li> files</li>
</ul>
<p>

Method: show program code through math examples

<p>

</section>


<section>

<h1 id="basics:basic:objects">Variables, loops, lists, and arrays</h1>

<p>
<center><p><img src="fig-bumpy/implementation5.jpg" align="bottom" width=500></p></center>

<p>

</section>


<section>

<h2 id="basics:accesspy">Do you have access to Python?</h2>

<p>
See <a href="https://www.ntnu.no/wiki/display/kt/Python" target="_blank">TKT4140 Course specific installation guidelines</a>

<p>
Other methods:

<ul>
 <p><li> Mac and Windows: <a href="https://store.continuum.io/cshop/anaconda/" target="_blank">Anaconda</a></li>
 <p><li> Web browser (<a href="https://wakari.io/" target="_blank">Wakari</a> or <a href="https://cloud.sagemath.com/" target="_blank">SageMathCloud</a>)</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec3">Mathematical example </h2>

<p>
Most examples will involve this formula:

<p>&nbsp;<br>
$$
\begin{equation}
\tag{1}
s = v_0t + \frac{1}{2}at^2
\end{equation}
$$
<p>&nbsp;<br>

We may view \( s \) as a function of \( t \): \( s(t) \), and also include the
parameters in the notation: \( s(t;v_0,a) \).

<p>

</section>


<section>

<h2 id="basics:formula:eval">A program for evaluating a formula</h2>

<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Task.</b>
<p>
Compute \( s \) for \( t=0.5 \), \( v_0=2 \), and \( a=0.2 \).
</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Python code.</b>
<p>
<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.5</span>
<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">s</span>
</pre></div>

</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b>Execution.</b>
<p>
<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">Terminal&gt; python distance.py
1.025
</pre></div>

</div>


<p>

</section>


<section>

<h2 id="___sec5">Assignment statements assign a name to an object </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.5</span>                   <span style="color: #999999; font-style: italic"># real number makes float object</span>
<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>                    <span style="color: #999999; font-style: italic"># integer makes int object</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>                   <span style="color: #999999; font-style: italic"># float object</span>
<span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>     <span style="color: #999999; font-style: italic"># float object</span>
</pre></div>
<p>
Rule:

<ul>
 <p><li> evaluate right-hand side; it results in an <em>object</em></li>
 <p><li> left-hand side is a name for that object</li>
</ul>
<p>


</section>


<section>

<h2 id="basics:printf">Formatted output with text and numbers</h2>

<ul>
 <p><li> Task: write out text with a number (3 decimals): <code>s=1.025</code></li>
 <p><li> Method: printf syntax</li>
</ul>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;s=%g&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">s</span>       <span style="color: #999999; font-style: italic"># g: compact notation</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;s=%.2f&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">s</span>     <span style="color: #999999; font-style: italic"># f: decimal notation, .2f: 2 decimals</span>
</pre></div>
<p>
Modern alternative: format string syntax

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;s={s:.2f}&#39;</span><span style="color: #d0d0d0">.format(s=s)</span>
</pre></div>
<p>

</section>


<section>

<h2 id="basics:while">Programming with a while loop</h2>

<ul>
 <p><li> Task: write out a table of \( t \) and \( s(t) \) values (two columns),
   for \( t\in [0,2] \) in steps of 0.1</li>
 <p><li> Method: while loop</li>
</ul>
<p>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">dt</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.1</span>  <span style="color: #999999; font-style: italic"># Increment</span>
<span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>     <span style="color: #999999; font-style: italic"># Start value</span>
<span style="color: #6ab825; font-weight: bold">while</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">t,</span> <span style="color: #d0d0d0">s</span>
    <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">dt</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec8">Output of the previous program </h2>

<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">Terminal&gt; python while.py
0 0.0
0.1 0.201
0.2 0.404
0.3 0.609
0.4 0.816
0.5 1.025
0.6 1.236
0.7 1.449
0.8 1.664
0.9 1.881
1.0 2.1
1.1 2.321
1.2 2.544
1.3 2.769
1.4 2.996
1.5 3.225
1.6 3.456
1.7 3.689
1.8 3.924
1.9 4.161
</pre></div>
<p>

</section>


<section>

<h2 id="___sec9">Structure of a while loop </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">while</span> <span style="color: #d0d0d0">condition:</span>
    <span style="color: #d0d0d0">&lt;intented</span> <span style="color: #d0d0d0">statement&gt;</span>
    <span style="color: #d0d0d0">&lt;intented</span> <span style="color: #d0d0d0">statement&gt;</span>
    <span style="color: #d0d0d0">&lt;intented</span> <span style="color: #d0d0d0">statement&gt;</span>
</pre></div>
<p>
Note:

<ul>
 <p><li> the colon in the first line</li>
 <p><li> all statements in the loop <em>must be indented</em> <br />
   (no braces as in C, C++, Java, ...)</li>
 <p><li> <code>condition</code> is a boolean expression (e.g., <code>t &lt;= 2</code>)</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec10">Let's take a closer look at the output of our program </h2>

<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">Terminal&gt; python while.py
0 0.0
0.1 0.201
0.2 0.404
...
1.8 3.924
1.9 4.161
</pre></div>
<p>
The last line contains 1.9, but the while loop should run also when
\( t=2 \) since the test is <code>t &lt;= 2</code>. Why is this test <code>False</code>?

<p>

</section>


<section>

<h2 id="___sec11">Let's examine the program in the Python Online Tutor </h2>

<p>
<a href="http://pythontutor.com/visualize.html#mode=edit" target="_blank">Python Online Tutor</a>:
step through the program and examine variables
(view in Chrome)

<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=a+%3D+0%0Ada+%3D+0.4%0Awhile+a+%3C%3D+1.2%3A%0A++++print+a%0A++++a+%3D+a+%2B+da&curInstr=0&py=2&cumulative=false">
</iframe>
<p>

</section>


<section>

<h2 id="___sec12">Ooops, why is <code>a &lt;= 1.2</code> when <code>a</code> is <code>1.2</code>? Round-off errors! </h2>

<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=a+%3D+0%0Ada+%3D+0.4%0Awhile+a+%3C%3D+1.2%3A%0A++++print+a%0A++++a+%3D+a+%2B+da%0A++++%23+Inspect+all+decimals+in+da+and+a%0A++++print+%27da%3D%25.16E%5Cna%3D%25.16E%27+%25+%28da%2C+a%29%0A++++print+%27a+%3C%3D+1.2%3A+%25g%27+%25++%28a+%3C%3D+1.2%29&curInstr=0&py=2&cumulative=false">
</iframe>
<p>

<!-- begin box -->
<div style="width: 95%; padding: 10px; border: 1px solid #000; border-radius: 4px;">
Small round-off error in <code>da</code> makes <code>a = 1.2000000000000002</code>
</div>
<!-- end box -->


<p>

</section>


<section>

<h2 id="___sec13">Rule: never <code>a == b</code> for real <code>a</code> and <code>b</code>! Always use a tolerance! </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1.2</span>
<span style="color: #d0d0d0">b</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.4</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.4</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.4</span>
<span style="color: #d0d0d0">boolean_condition1</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">==</span> <span style="color: #d0d0d0">b</span>              <span style="color: #999999; font-style: italic"># may be False</span>

<span style="color: #999999; font-style: italic"># This is the way to do it</span>
<span style="color: #d0d0d0">tol</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1E-14</span>
<span style="color: #d0d0d0">boolean_condition2</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">abs</span><span style="color: #d0d0d0">(a</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">b)</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #d0d0d0">tol</span>    <span style="color: #999999; font-style: italic"># True</span>
</pre></div>
<p>

</section>


<section>

<h2 id="basics:list">A list collects several objects in a given sequence</h2>

<p>
A list of numbers:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">L</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">8.0</span><span style="color: #d0d0d0">]</span>
</pre></div>
<p>
A list can contain any type of objects, e.g.,

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">L</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[</span><span style="color: #ed9d13">&#39;mydata.txt&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">3.14</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">]</span>   <span style="color: #999999; font-style: italic"># string, float, int</span>
</pre></div>
<p>
Some basic list operations:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">L</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[</span><span style="color: #ed9d13">&#39;mydata.txt&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">3.14</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">]</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">L[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">]</span>    <span style="color: #999999; font-style: italic"># print first element (index 0)</span>
<span style="color: #d0d0d0">mydata.txt</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">L[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">]</span>    <span style="color: #999999; font-style: italic"># print second element (index 1)</span>
<span style="color: #3677a9">3.14</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">del</span> <span style="color: #d0d0d0">L[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">]</span>      <span style="color: #999999; font-style: italic"># delete the first element</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">L</span>
<span style="color: #d0d0d0">[</span><span style="color: #3677a9">3.14</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">]</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #24909d">len</span><span style="color: #d0d0d0">(L)</span>  <span style="color: #999999; font-style: italic"># length of L</span>
<span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">L.append(-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># add -1 at the end of the list</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">L</span>
<span style="color: #d0d0d0">[</span><span style="color: #3677a9">3.14</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">]</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec15">Store our table in two lists, one for each column </h2>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">dt</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.1</span>  <span style="color: #999999; font-style: italic"># Increment</span>
<span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>
<span style="color: #d0d0d0">t_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[]</span>
<span style="color: #d0d0d0">s_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[]</span>
<span style="color: #6ab825; font-weight: bold">while</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>
    <span style="color: #d0d0d0">t_values.append(t)</span>
    <span style="color: #d0d0d0">s_values.append(s)</span>
    <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">dt</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">s_values</span>  <span style="color: #999999; font-style: italic"># Just take a look at a created list</span>

<span style="color: #999999; font-style: italic"># Print a nicely formatted table</span>
<span style="color: #d0d0d0">i</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0</span>
<span style="color: #6ab825; font-weight: bold">while</span> <span style="color: #d0d0d0">i</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #24909d">len</span><span style="color: #d0d0d0">(t_values)-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">:</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;%.2f  %.4f&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(t_values[i],</span> <span style="color: #d0d0d0">s_values[i])</span>
    <span style="color: #d0d0d0">i</span> <span style="color: #d0d0d0">+=</span> <span style="color: #3677a9">1</span>   <span style="color: #999999; font-style: italic"># Same as i = i + 1</span>
</pre></div>
<p>

</section>


<section>

<h2 id="basics:for">For loops</h2>

<p>
A for loop is used for visiting elements in a list, one by one:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">L</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">8</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">9</span><span style="color: #d0d0d0">]</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">e</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #d0d0d0">L:</span>
<span style="color: #d0d0d0">...</span>     <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">e</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #3677a9">1</span>
<span style="color: #3677a9">4</span>
<span style="color: #3677a9">8</span>
<span style="color: #3677a9">9</span>
</pre></div>
<p>
Demo in the Python Online Tutor:

<p>

<iframe width="950" height="500" frameborder="0"
        src="http://pythontutor.com/iframe-embed.html#code=list1+%3D+%5B0%2C+0.1%2C+0.2%5D%0Alist2+%3D+%5B%5D%0Afor+element+in+list1%3A%0A++++p+%3D+element+%2B+2%0A++++list2.append%28p%29%0Aprint+list2&curInstr=0&py=2&cumulative=false">
</iframe>
<p>

</section>


<section>

<h2 id="___sec17">Traditional for loop: integer counter over list/array indices </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">somelist</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[</span><span style="color: #ed9d13">&#39;file1.dat&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">22</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">-</span><span style="color: #3677a9">1.5</span><span style="color: #d0d0d0">]</span>

<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">len</span><span style="color: #d0d0d0">(somelist)):</span>
    <span style="color: #999999; font-style: italic"># access list element through index</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">somelist[i]</span>
</pre></div>
<p>
Note:

<ul>
 <p><li> <code>range</code> returns a list of integers</li>
 <p><li> <code>range(a, b, s)</code> returns the integers
   <code>a, a+s, a+2*s, ...</code> up to <em>but not including</em> (!!) <code>b</code></li>
 <p><li> <code>range(b)</code> implies <code>a=0</code> and <code>s=1</code></li>
 <p><li> <code>range(len(somelist))</code> returns <code>[0, 1, 2]</code></li>
</ul>
<p>


</section>


<section>

<h2 id="___sec18">Let's replace our while loop by a for loop </h2>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">dt</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.1</span>  <span style="color: #999999; font-style: italic"># Increment</span>
<span style="color: #d0d0d0">t_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[]</span>
<span style="color: #d0d0d0">s_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[]</span>
<span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">int</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">round</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">/dt))</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">1</span>  <span style="color: #999999; font-style: italic"># No of t values</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(n):</span>
    <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">i*dt</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>
    <span style="color: #d0d0d0">t_values.append(t)</span>
    <span style="color: #d0d0d0">s_values.append(s)</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">s_values</span>  <span style="color: #999999; font-style: italic"># Just take a look at a created list</span>

<span style="color: #999999; font-style: italic"># Make nicely formatted table</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">t,</span> <span style="color: #d0d0d0">s</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">zip</span><span style="color: #d0d0d0">(t_values,</span> <span style="color: #d0d0d0">s_values):</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;%.2f  %.4f&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">s)</span>

<span style="color: #999999; font-style: italic"># Alternative implementation</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">len</span><span style="color: #d0d0d0">(t_values)):</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;%.2f  %.4f&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(t_values[i],</span> <span style="color: #d0d0d0">s_values[i])</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec19">Traversal of multiple lists at the same time with <code>zip</code> </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">e1,</span> <span style="color: #d0d0d0">e2,</span> <span style="color: #d0d0d0">e3,</span> <span style="color: #d0d0d0">...</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">zip</span><span style="color: #d0d0d0">(list1,</span> <span style="color: #d0d0d0">list2,</span> <span style="color: #d0d0d0">list3,</span> <span style="color: #d0d0d0">...):</span>
</pre></div>
<p>
Alternative: loop over a common index for the lists

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">len</span><span style="color: #d0d0d0">(list1)):</span>
    <span style="color: #d0d0d0">e1</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">list1[i]</span>
    <span style="color: #d0d0d0">e2</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">list2[i]</span>
    <span style="color: #d0d0d0">e3</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">list3[i]</span>
    <span style="color: #d0d0d0">...</span>
</pre></div>
<p>

</section>


<section>

<h2 id="basics:numpy">Arrays are computationally efficient lists of numbers</h2>

<ul>
 <p><li> Lists collect a set of objects in a single variable</li>
 <p><li> Lists are very flexible (can grow, can contain &quot;anything&quot;)</li>
 <p><li> Array: computationally efficient and convenient list</li>
 <p><li> Arrays must have fixed length and can only contain numbers of
   the same type (integers, real numbers, complex numbers)</li>
 <p><li> Arrays require the <code>numpy</code> module</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec21">Examples on using arrays </h2>

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">L</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10.0</span><span style="color: #d0d0d0">]</span>    <span style="color: #999999; font-style: italic"># List of numbers</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">numpy.array(L)</span>  <span style="color: #999999; font-style: italic"># Convert to array</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">a</span>
<span style="color: #d0d0d0">[</span>  <span style="color: #3677a9">1.</span>   <span style="color: #3677a9">4.</span>  <span style="color: #3677a9">10.</span><span style="color: #d0d0d0">]</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">a[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">]</span>          <span style="color: #999999; font-style: italic"># Access element through indexing</span>
<span style="color: #3677a9">4.0</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">a[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">:</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">]</span>        <span style="color: #999999; font-style: italic"># Extract slice (index 2 not included!)</span>
<span style="color: #d0d0d0">[</span>  <span style="color: #3677a9">1.</span>   <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">]</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">a.dtype</span>       <span style="color: #999999; font-style: italic"># Data type of an element</span>
<span style="color: #d0d0d0">float64</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">b</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*a</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">1</span>         <span style="color: #999999; font-style: italic"># Can do arithmetics on arrays</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">b</span>
<span style="color: #d0d0d0">[</span>  <span style="color: #3677a9">3.</span>   <span style="color: #3677a9">9.</span>  <span style="color: #3677a9">21.</span><span style="color: #d0d0d0">]</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec22"><code>numpy</code> functions creates entire arrays at once </h2>

<p>
Apply \( \ln \) to all elements in array <code>a</code>:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">c</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">numpy.log(a)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">c</span>
<span style="color: #d0d0d0">[</span> <span style="color: #3677a9">0.</span>          <span style="color: #3677a9">1.38629436</span>  <span style="color: #3677a9">2.30258509</span><span style="color: #d0d0d0">]</span>
</pre></div>
<p>
Create \( n+1 \) uniformly distributed coordinates in \( [a,b] \):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">numpy.linspace(a,</span> <span style="color: #d0d0d0">b,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
Create array of length \( n \) filled with zeros:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">numpy.zeros(n)</span>
<span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">numpy.zeros_like(t)</span>  <span style="color: #999999; font-style: italic"># zeros with t&#39;s size and data type</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec23">Let's use arrays in our previous program </h2>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span>
<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">dt</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.1</span>  <span style="color: #999999; font-style: italic"># Increment</span>
<span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">int</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">round</span><span style="color: #d0d0d0">(</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">/dt))</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">1</span>  <span style="color: #999999; font-style: italic"># No of t values</span>

<span style="color: #d0d0d0">t_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">numpy.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">s_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #999999; font-style: italic"># Make nicely formatted table</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">t,</span> <span style="color: #d0d0d0">s</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">zip</span><span style="color: #d0d0d0">(t_values,</span> <span style="color: #d0d0d0">s_values):</span>
    <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #ed9d13">&#39;%.2f  %.4f&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">s)</span>
</pre></div>
<p>
Note: no explicit loop for computing <code>s_values</code>!

<p>

</section>


<section>

<h2 id="basics:math">Standard mathematical functions are found in the <code>math</code> module</h2>

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">math</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">math.sin(math.pi)</span>
<span style="color: #3677a9">1.2246467991473532e-16</span>         <span style="color: #999999; font-style: italic"># Note: only approximate value</span>
</pre></div>
<p>
Get rid of the <code>math</code> prefix:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">sin,</span> <span style="color: #d0d0d0">pi</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">sin(pi)</span>

<span style="color: #999999; font-style: italic"># Or import everything from math</span>
<span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">*</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">sin(pi),</span> <span style="color: #d0d0d0">log(e),</span> <span style="color: #d0d0d0">tanh(</span><span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec25">Use the <code>numpy</code> module for standard mathematical functions applied to arrays </h2>

<p>
Matlab users can do

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">*</span>
<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">101</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">y</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">exp(-x)*sin(pi*x)</span>
</pre></div>
<p>
The Python community likes

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">np</span>
<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">101</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">y</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.exp(-x)*np.sin(np.pi*x)</span>
</pre></div>
<p>
Our convention: use <code>np</code> prefix, but not in formulas involving
math functions

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">np</span>
<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">101</span><span style="color: #d0d0d0">)</span>

<span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">sin,</span> <span style="color: #d0d0d0">exp,</span> <span style="color: #d0d0d0">pi</span>
<span style="color: #d0d0d0">y</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">exp(-x)*sin(pi*x)</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec26">Copies and views of numpy arrays </h2>

<ul>
 <p><li> Given numpy array <code>a=np.linspace(1,10,10)</code></li>
 <p><li> The assignment <code>b=a</code> creates a <code>view</code> or a pointer to the data of <code>a</code></li>
 <p><li> The original array is not copied in memory</li>
</ul>
<p>

See the following example how changes in <code>b</code> inflict changes in <code>a</code>
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">a=np.linspace(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">a</span>
<span style="color: #d0d0d0">array([</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">])</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">b=a</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">b[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">]=</span><span style="color: #3677a9">5</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">a</span>
<span style="color: #d0d0d0">array([</span> <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">])</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">b</span>
<span style="color: #d0d0d0">array([</span> <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">])</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> 
</pre></div>
<p>
To make a deep copy which also copies the data in memory use <code>a.copy()</code> as in the following example
<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">a=np.linspace(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">5</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">c=a.copy()</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">c[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">]=</span><span style="color: #3677a9">6</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">a</span>
<span style="color: #d0d0d0">array([</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">])</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">c</span>
<span style="color: #d0d0d0">array([</span> <span style="color: #3677a9">6.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">])</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">b</span>
<span style="color: #d0d0d0">array([</span> <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">5.</span><span style="color: #d0d0d0">])</span>
</pre></div>
<p>
Note that <code>b</code> has still the values from the previous example even though <code>a</code> was reassigned. 

<p>

</section>


<section>

<h2 id="___sec27">Tridiagonal and sparse matrices </h2>

<ul>
 <p><li> SciPy offers a 2-D sparse matrix package for numeric data.</li>
 <p><li> The 'spdiags' function <a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.spdiags.html" target="_blank">scipy.sparse.spdiags</a> may be used to  construct a sparse matrix</li>
 <p><li> Note that all the diagonals may have the same length as the dimension of their sparse matrix</li>
 <p><li> Consequently some elements of the diagonals are not used</li>
 <p><li> The first k elements are not used of the k super-diagonal</li> 
 <p><li> The last  k elements are not used of the -k sub-diagonal</li> 
</ul>
<p>

An example are given below for a tri-diagonal matrix:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">N=</span><span style="color: #3677a9">4</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">diagonals=np.zeros((</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,N))</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">diagonals[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,:]=np.linspace(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,N,N)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">diagonals[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,:]=np.linspace(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,N,N)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">diagonals[</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,:]=np.linspace(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,N,N)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">diagonals</span>
<span style="color: #d0d0d0">array([[</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">],</span>
       <span style="color: #d0d0d0">[</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">],</span>
       <span style="color: #d0d0d0">[</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">]])</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">A=sc.sparse.spdiags(diagonals,</span> <span style="color: #d0d0d0">[-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">],</span> <span style="color: #d0d0d0">N,</span> <span style="color: #d0d0d0">N,format=</span><span style="color: #ed9d13">&#39;csc&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">A.toarray()</span>
<span style="color: #d0d0d0">array([[</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">0.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">0.</span><span style="color: #d0d0d0">],</span>
       <span style="color: #d0d0d0">[</span> <span style="color: #3677a9">1.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">0.</span><span style="color: #d0d0d0">],</span>
       <span style="color: #d0d0d0">[</span> <span style="color: #3677a9">0.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">2.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">],</span>
       <span style="color: #d0d0d0">[</span> <span style="color: #3677a9">0.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">0.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">3.</span><span style="color: #d0d0d0">,</span>  <span style="color: #3677a9">4.</span><span style="color: #d0d0d0">]])</span>
</pre></div>
<p>

</section>


<section>

<h2 id="basics:plot">Plotting</h2>

<p>
Plotting is done with <code>matplotlib</code>:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">np</span>
<span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">matplotlib.pyplot</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">plt</span>

<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">21</span>  <span style="color: #999999; font-style: italic"># No of t values for plotting</span>

<span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #d0d0d0">plt.plot(t,</span> <span style="color: #d0d0d0">s)</span>
<span style="color: #d0d0d0">plt.savefig(</span><span style="color: #ed9d13">&#39;myplot.png&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.show()</span>
</pre></div>
<p>
The plotfile <code>myplot.png</code> looks like

<p>
<center><p><img src="fig-bumpy/plot1_s.png" align="bottom" width=500></p></center>

<p>

</section>


<section>

<h2 id="___sec29">Plotting of multiple curves </h2>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">np</span>
<span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">matplotlib.pyplot</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">plt</span>

<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">21</span>  <span style="color: #999999; font-style: italic"># No of t values for plotting</span>

<span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">s0</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">3</span>
<span style="color: #d0d0d0">s1</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #d0d0d0">plt.plot(t,</span> <span style="color: #d0d0d0">s0,</span> <span style="color: #ed9d13">&#39;r-&#39;</span><span style="color: #d0d0d0">,</span>  <span style="color: #999999; font-style: italic"># Plot s0 curve with red line</span>
         <span style="color: #d0d0d0">t,</span> <span style="color: #d0d0d0">s1,</span> <span style="color: #ed9d13">&#39;bo&#39;</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># Plot s1 curve with blue circles</span>
<span style="color: #d0d0d0">plt.xlabel(</span><span style="color: #ed9d13">&#39;t&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.ylabel(</span><span style="color: #ed9d13">&#39;s&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.title(</span><span style="color: #ed9d13">&#39;Distance plot&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.legend([</span><span style="color: #ed9d13">&#39;$s(t; v_0=2, a=0.2)$&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #ed9d13">&#39;$s(t; v_0=2, a=0.8)$&#39;</span><span style="color: #d0d0d0">],</span>
           <span style="color: #d0d0d0">loc=</span><span style="color: #ed9d13">&#39;upper left&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.savefig(</span><span style="color: #ed9d13">&#39;myplot.png&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.show()</span>
</pre></div>
<p>
<center><p><img src="fig-bumpy/plot2_s.png" align="bottom" width=500></p></center>

<p>

</section>


<section>

<h1 id="basics:func:branching">Functions and branching</h1>

<p>
<center><p><img src="fig-bumpy/branching3.jpg" align="bottom" width=500></p></center>

<p>

</section>


<section>

<h2 id="basics:func">Functions</h2>

<ul>
 <p><li> \( s(t)=v_0t + \frac{1}{2}at^2 \) is a mathematical function</li>
 <p><li> Can implement \( s(t) \) as a Python function <code>s(t)</code></li>
</ul>
<p>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">s</span><span style="color: #d0d0d0">(t):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">0.2</span>
<span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">4</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">)</span>   <span style="color: #999999; font-style: italic"># Call the function</span>
</pre></div>
<p>
Note:

<ul>
 <p><li> functions start with the keyword <code>def</code></li>
 <p><li> statements belonging to the function must be indented</li>
 <p><li> function input is represented by arguments
   (separated by comma if more than one)</li>
 <p><li> function output is returned to the calling code</li>
 <p><li> <code>v0</code> and <code>a</code> are <em>global variables</em>, which
   must be initialized before <code>s(t)</code> is called</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec32">Functions can have multiple arguments </h2>

<p>
<code>v0</code> and <code>a</code> as function arguments instead of global variables:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">s</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>   <span style="color: #999999; font-style: italic"># Call the function</span>

<span style="color: #999999; font-style: italic"># More readable call</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(t=</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec33">Keyword arguments are arguments with default values </h2>

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">s</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>         <span style="color: #999999; font-style: italic"># specify new v0 and a</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">)</span>                 <span style="color: #999999; font-style: italic"># rely on v0=1 and a=1</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>            <span style="color: #999999; font-style: italic"># rely on v0=1</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>           <span style="color: #999999; font-style: italic"># rely on a=1</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(t=</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>    <span style="color: #999999; font-style: italic"># specify everything</span>
<span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(a=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">t=</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)</span>    <span style="color: #999999; font-style: italic"># any sequence allowed</span>
</pre></div>
<ul>
 <p><li> Arguments without the argument name are called <em>positional arguments</em></li>
 <p><li> Positional arguments must always be listed before the <em>keyword arguments</em>
   in the function and in any call</li>
 <p><li> The sequence of the keyword arguments can be arbitrary</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec34">Vectorization speeds up the code </h2>

<p>
Scalar code (work with one number at a time):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">s</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">len</span><span style="color: #d0d0d0">(t)):</span>
    <span style="color: #d0d0d0">s_values[i]</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(t_values[i],</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a)</span>
</pre></div>
<p>
Vectorized code: apply <code>s</code> to the entire array

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">s_values</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(t_values,</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a)</span>
</pre></div>
<p>
How can this work?

<ul>
 <p><li> Expression: v0*t + 0.5*a*t**2 with array <code>t</code></li>
 <p><li> <code>r1 = v0*t</code>  (scalar times array)</li>
 <p><li> <code>r2 = t**2</code>  (square each element)</li>
 <p><li> <code>r3 = 0.5*a*r2</code> (scalar times array)</li>
 <p><li> <code>r1 + r3</code> (add each element)</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec35">Python functions written for scalars normally work for arrays too! </h2>

<p>
True if computations involve arithmetic operations and math functions:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">exp,</span> <span style="color: #d0d0d0">sin</span>

<span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*x</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">x**</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">*exp(-x)*sin(x)</span>

<span style="color: #d0d0d0">v</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># f(x) works with scalar x</span>

<span style="color: #999999; font-style: italic"># Redefine exp and sin with their vectorized versions</span>
<span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">exp,</span> <span style="color: #d0d0d0">sin,</span> <span style="color: #d0d0d0">linspace</span>
<span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">100001</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">v</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(x)</span>  <span style="color: #999999; font-style: italic"># f(x) works with array x</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec36">Python functions can return multiple values </h2>

<p>
Return \( s(t)=v_0t+\frac{1}{2}at^2 \) and \( s'(t)=v_0 + at \):

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">movement</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a):</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>
    <span style="color: #d0d0d0">v</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">a*t</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">s,</span> <span style="color: #d0d0d0">v</span>

<span style="color: #d0d0d0">s_value,</span> <span style="color: #d0d0d0">v_value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">movement(t=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
<code>return s, v</code> means that we return a <em>tuple</em> (\( \approx \) list):

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span>
<span style="color: #d0d0d0">...</span>     <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">x+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">x+</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">x+</span><span style="color: #3677a9">3</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">r</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">)</span>     <span style="color: #999999; font-style: italic"># Store all three return values in one object r</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">r</span>
<span style="color: #d0d0d0">(</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">5</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">6</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #24909d">type</span><span style="color: #d0d0d0">(r)</span>      <span style="color: #999999; font-style: italic"># What type of object is r?</span>
<span style="color: #d0d0d0">&lt;</span><span style="color: #24909d">type</span> <span style="color: #ed9d13">&#39;tuple&#39;</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">r[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">]</span>
<span style="color: #3677a9">5</span>
</pre></div>
<p>
Tuples are constant lists (cannot be changed)

<p>

</section>


<section>

<h2 id="basics:formula:piecewise">A more general mathematical formula (part I)</h2>

<p>
Equations from basic kinematics:

<p>&nbsp;<br>
$$
\begin{align*}
v = \frac{ds}{dt},\quad s(0)=s_0\\ 
a = \frac{dv}{dt},\quad v(0)=v_0
\end{align*}
$$
<p>&nbsp;<br>


<p>
Integrate to find \( v(t) \):

<p>&nbsp;<br>
$$ \int_0^t a(t)dt = \int_0^t \frac{dv}{dt} dt$$
<p>&nbsp;<br>

which gives

<p>&nbsp;<br>
$$ v(t) = v_0 + \int_0^t a(t)dt $$
<p>&nbsp;<br>


<p>

</section>


<section>

<h2 id="___sec38">A more general mathematical formula (part II) </h2>

<p>
Integrate again over \( [0,t] \) to find \( s(t) \):

<p>&nbsp;<br>
$$ s(t) = s_0 + v_0t + \int_0^t\left( \int_0^t a(t)dt \right) dt$$
<p>&nbsp;<br>


<p>
Example: \( a(t)=a_0 \) for \( t\in[0,t_1] \), then \( a(t)=0 \) for \( t>t_1 \):

<p>&nbsp;<br>
$$
s(t) = \left\lbrace\begin{array}{ll}
s_0 + v_0 t + \frac{1}{2}a_0 t^2,& t\leq t_1\\ 
s_0 + v_0t_1 + \frac{1}{2}a_0 t_1^2 + a_0t_1(t-t_1),& t> t_1
\end{array}\right.
$$
<p>&nbsp;<br>


<p>
Need <em>if test</em> to implement this!

<p>

</section>


<section>

<h2 id="basics:if">Basic if-else tests</h2>

<p>
An if test has the structure

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">True</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">False</span><span style="color: #d0d0d0">&gt;</span>
</pre></div>
<p>
Here,

<ul>
 <p><li> <code>condition</code> is a boolean expression with value <code>True</code> or
   <code>False</code>.</li>
</ul>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">t1:</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t**</span><span style="color: #3677a9">2</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t1**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">a0*t1*(t-t1)</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec40">Multi-branch if tests </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition1:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition1</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">True</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">condition2:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition1</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">False</span> <span style="color: #6ab825; font-weight: bold">and</span> <span style="color: #d0d0d0">condition2</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">True</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">condition3:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition1</span> <span style="color: #6ab825; font-weight: bold">and</span> <span style="color: #d0d0d0">conditon</span> <span style="color: #3677a9">2</span> <span style="color: #d0d0d0">are</span> <span style="color: #24909d">False</span>
     <span style="color: #6ab825; font-weight: bold">and</span> <span style="color: #d0d0d0">condition3</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">True</span><span style="color: #d0d0d0">&gt;</span>
<span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition1/</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">/</span><span style="color: #3677a9">3</span> <span style="color: #24909d">all</span> <span style="color: #d0d0d0">are</span> <span style="color: #24909d">False</span><span style="color: #d0d0d0">&gt;</span>
</pre></div>
<p>
Just if, no else:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">condition:</span>
    <span style="color: #d0d0d0">&lt;statements</span> <span style="color: #d0d0d0">when</span> <span style="color: #d0d0d0">condition</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #24909d">True</span><span style="color: #d0d0d0">&gt;</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec41">Implementation of a piecewisely defined function with if </h2>

<p>
A Python function implementing the mathematical function

<p>&nbsp;<br>
$$
s(t) = \left\lbrace\begin{array}{ll}
s_0 + v_0 t + \frac{1}{2}a_0 t^2,& t\leq t_1\\ 
s_0 + v_0t_1 + \frac{1}{2}a_0 t_1^2 + a_0t_1(t-t_1),& t> t_1
\end{array}\right.
$$
<p>&nbsp;<br>


<p>
reads

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">s_func</span><span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a0,</span> <span style="color: #d0d0d0">t1):</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">t1:</span>
        <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t**</span><span style="color: #3677a9">2</span>
    <span style="color: #6ab825; font-weight: bold">else</span><span style="color: #d0d0d0">:</span>
        <span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t1**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">a0*t1*(t-t1)</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">s</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec42">Python functions containing if will not accept array arguments </h2>

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">f</span><span style="color: #d0d0d0">(x):</span> <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">x</span> <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">&lt;</span> <span style="color: #3677a9">1</span> <span style="color: #6ab825; font-weight: bold">else</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">*x</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">np</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">5</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">f(x)</span>
<span style="color: #d0d0d0">Traceback</span> <span style="color: #d0d0d0">(most</span> <span style="color: #d0d0d0">recent</span> <span style="color: #d0d0d0">call</span> <span style="color: #d0d0d0">last):</span>
<span style="color: #d0d0d0">...</span>
<span style="color: #bbbbbb">ValueError</span><span style="color: #d0d0d0">:</span> <span style="color: #d0d0d0">The</span> <span style="color: #d0d0d0">truth</span> <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">of</span> <span style="color: #d0d0d0">an</span> <span style="color: #d0d0d0">array</span> <span style="color: #6ab825; font-weight: bold">with</span> <span style="color: #d0d0d0">more</span> <span style="color: #d0d0d0">than</span> <span style="color: #d0d0d0">one</span>
<span style="color: #d0d0d0">element</span> <span style="color: #6ab825; font-weight: bold">is</span> <span style="color: #d0d0d0">ambiguous.</span> <span style="color: #d0d0d0">Use</span> <span style="color: #d0d0d0">a.any()</span> <span style="color: #6ab825; font-weight: bold">or</span> <span style="color: #d0d0d0">a.all()</span>
</pre></div>
<p>
Problem: <code>x &lt; 1</code> evaluates to a boolean array, not just a boolean

<p>

</section>


<section>

<h2 id="___sec43">Remedy 1: Call the function with scalar arguments </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">n</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">201</span>  <span style="color: #999999; font-style: italic"># No of t values for plotting</span>
<span style="color: #d0d0d0">t1</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1.5</span>

<span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.linspace(</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.zeros(n+</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">i</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">range</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">len</span><span style="color: #d0d0d0">(t)):</span>
    <span style="color: #d0d0d0">s[i]</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s_func(t=t[i],</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a0=</span><span style="color: #3677a9">20</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">t1=t1)</span>
</pre></div>
<p>
Can now easily plot:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">plt.plot(t,</span> <span style="color: #d0d0d0">s,</span> <span style="color: #ed9d13">&#39;b-&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.plot([t1,</span> <span style="color: #d0d0d0">t1],</span> <span style="color: #d0d0d0">[</span><span style="color: #3677a9">0</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">s_func(t=t1,</span> <span style="color: #d0d0d0">v0=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a0=</span><span style="color: #3677a9">20</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">t1=t1)],</span> <span style="color: #ed9d13">&#39;r--&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.xlabel(</span><span style="color: #ed9d13">&#39;t&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.ylabel(</span><span style="color: #ed9d13">&#39;s&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.savefig(</span><span style="color: #ed9d13">&#39;myplot.png&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">plt.show()</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec44">Remedy 2: Vectorize the if test with <code>where</code> </h2>

<p>
Functions with if tests require a complete rewrite to work with
arrays.

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.where(condition,</span> <span style="color: #d0d0d0">s1,</span> <span style="color: #d0d0d0">s2)</span>
</pre></div>
<p>
Explanation:

<ul>
 <p><li> <code>condition</code>: array of boolean values</li>
 <p><li> <code>s[i] = s1[i]</code> if <code>condition[i]</code> is <code>True</code></li>
 <p><li> <code>s[i] = s2[i]</code> if <code>condition[i]</code> is <code>False</code></li>
</ul>
<p>

Our example then becomes

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.where(t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">t1,</span>
             <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t**</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span>
             <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t1**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">a0*t1*(t-t1))</span>
</pre></div>
<p>
Note that <code>t &lt;= t1</code> with array <code>t</code> and scalar <code>t1</code> results in a boolean
array <code>b</code> where <code>b[i] = t[i] &lt;= t1</code>.

<p>

</section>


<section>

<h2 id="___sec45">Remedy 3: Vectorize the if test with array indexing </h2>

<ul>
 <p><li> Let <code>b</code> be a boolean array (e.g., <code>b = t &lt;= t1</code>)</li>
 <p><li> <code>s[b]</code> selects all elements <code>s[i]</code> where <code>b[i]</code> is <code>True</code></li>
 <p><li> Can assign some array expression <code>expr</code> of length
   <code>len(s[b])</code> to <code>s[b]</code>: <code>s[b] = (expr)[b]</code></li>
</ul>
<p>

Our example can utilize this technique with <code>b</code> as <code>t &lt;= t1</code> and <code>t &gt; t1</code>:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.zeros_like(t)</span>  <span style="color: #999999; font-style: italic"># Make s as zeros, same size &amp; type as t</span>
<span style="color: #d0d0d0">s[t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">t1]</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t**</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">)[t</span> <span style="color: #d0d0d0">&lt;=</span> <span style="color: #d0d0d0">t1]</span>
<span style="color: #d0d0d0">s[t</span> <span style="color: #d0d0d0">&gt;</span> <span style="color: #d0d0d0">t1]</span>  <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">(v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a0*t1**</span><span style="color: #3677a9">2</span> <span style="color: #d0d0d0">+</span> <span style="color: #d0d0d0">a0*t1*(t-t1))[t</span> <span style="color: #d0d0d0">&gt;</span> <span style="color: #d0d0d0">t1]</span>
</pre></div>
<p>

</section>


<section>

<h1 id="basics:files">Files</h1>

<p>
<center><p><img src="fig-bumpy/files1.jpg" align="bottom" width=400></p></center>

<p>

</section>


<section>

<h2 id="___sec47">File reading </h2>

<p>
Put input data in a text file:

<p>

<!-- code=text (!bc dat) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">v0 = 2
a = 0.2
dt = 0.1
interval = [0, 2]
</pre></div>
<p>

<!-- begin box -->
<div style="width: 95%; padding: 10px; border: 1px solid #000; border-radius: 4px;">
How can we read this file into variables <code>v0</code>, <code>a</code>, <code>dt</code>, and <code>interval</code>?
</div>
<!-- end box -->


<p>

</section>


<section>

<h2 id="___sec48">Code for reading files with lines <code>variable = value</code> </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">infile</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">open</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&#39;.input.dat&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #ed9d13">&#39;r&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">line</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #d0d0d0">infile:</span>
    <span style="color: #999999; font-style: italic"># Typical line: variable = value</span>
    <span style="color: #d0d0d0">variable,</span> <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">line.split(</span><span style="color: #ed9d13">&#39;=&#39;</span><span style="color: #d0d0d0">)</span>
    <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">variable.strip()</span>  <span style="color: #999999; font-style: italic"># remove leading/traling blanks</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">==</span> <span style="color: #ed9d13">&#39;v0&#39;</span><span style="color: #d0d0d0">:</span>
        <span style="color: #d0d0d0">v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">float</span><span style="color: #d0d0d0">(value)</span>
    <span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">==</span> <span style="color: #ed9d13">&#39;a&#39;</span><span style="color: #d0d0d0">:</span>
        <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">float</span><span style="color: #d0d0d0">(value)</span>
    <span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">==</span> <span style="color: #ed9d13">&#39;dt&#39;</span><span style="color: #d0d0d0">:</span>
        <span style="color: #d0d0d0">dt</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">float</span><span style="color: #d0d0d0">(value)</span>
    <span style="color: #6ab825; font-weight: bold">elif</span> <span style="color: #d0d0d0">variable</span> <span style="color: #d0d0d0">==</span> <span style="color: #ed9d13">&#39;interval&#39;</span><span style="color: #d0d0d0">:</span>
        <span style="color: #d0d0d0">interval</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">eval</span><span style="color: #d0d0d0">(value)</span>
<span style="color: #d0d0d0">infile.close()</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec49">Splitting lines into words is a frequent operation </h2>

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">line</span> <span style="color: #d0d0d0">=</span> <span style="color: #ed9d13">&#39;v0 = 5.3&#39;</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">variable,</span> <span style="color: #d0d0d0">value</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">line.split(</span><span style="color: #ed9d13">&#39;=&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">variable</span>
<span style="color: #ed9d13">&#39;v0 &#39;</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">value</span>
<span style="color: #ed9d13">&#39; 5.3&#39;</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">variable.strip()</span>  <span style="color: #999999; font-style: italic"># strip away blanks</span>
<span style="color: #ed9d13">&#39;v0&#39;</span>
</pre></div>
<p>
Note: must convert <code>value</code> to <code>float</code> before we can compute with
the value!

<p>

</section>


<section>

<h2 id="___sec50">The magic <code>eval</code> function </h2>

<p>
<code>eval(s)</code> executes a string <code>s</code> as a Python expression and creates the
corresponding Python object

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">obj1</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">eval</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&#39;1+2&#39;</span><span style="color: #d0d0d0">)</span>   <span style="color: #999999; font-style: italic"># Same as obj1 = 1+2</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">obj1,</span> <span style="color: #24909d">type</span><span style="color: #d0d0d0">(obj1)</span>
<span style="color: #d0d0d0">(</span><span style="color: #3677a9">3</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">&lt;</span><span style="color: #24909d">type</span> <span style="color: #ed9d13">&#39;int&#39;</span><span style="color: #d0d0d0">&gt;)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">obj2</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">eval</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&#39;[-1, 8, 10, 11]&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">obj2,</span> <span style="color: #24909d">type</span><span style="color: #d0d0d0">(obj2)</span>
<span style="color: #d0d0d0">([-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">8</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">10</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">11</span><span style="color: #d0d0d0">],</span> <span style="color: #d0d0d0">&lt;</span><span style="color: #24909d">type</span> <span style="color: #ed9d13">&#39;list&#39;</span><span style="color: #d0d0d0">&gt;)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">sin,</span> <span style="color: #d0d0d0">pi</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">x</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">1</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">obj3</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">eval</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&#39;sin(pi*x)&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">&gt;&gt;&gt;</span> <span style="color: #d0d0d0">obj3,</span> <span style="color: #24909d">type</span><span style="color: #d0d0d0">(obj3)</span>
<span style="color: #d0d0d0">(</span><span style="color: #3677a9">1.2246467991473532e-16</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">&lt;</span><span style="color: #24909d">type</span> <span style="color: #ed9d13">&#39;float&#39;</span><span style="color: #d0d0d0">&gt;)</span>
</pre></div>
<p>
Why is this so great? We can read formulas, lists, expressions as
text from file and with <code>eval</code> turn them into live Python objects!

<p>

</section>


<section>

<h2 id="___sec51">Implementing a calculator in Python </h2>

<p>
Demo:

<p>

<!-- code=text (!bc sys) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%">Terminal&gt; python calc.py &quot;1 + 0.5*2&quot;
2.0
Terminal&gt; python calc.py &quot;sin(pi*2.5) + exp(-4)&quot;
1.0183156388887342
</pre></div>
<p>
Just 5 lines of code:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">sys</span>
<span style="color: #d0d0d0">command_line_expression</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">sys.argv[</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">]</span>
<span style="color: #6ab825; font-weight: bold">from</span> <span style="color: #447fcf; text-decoration: underline">math</span> <span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #d0d0d0">*</span>   <span style="color: #999999; font-style: italic"># Define sin, cos, exp, pi, etc.</span>
<span style="color: #d0d0d0">result</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">eval</span><span style="color: #d0d0d0">(command_line_expression)</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">result</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec52">Modern Python often applies the <code>with</code> statement for file handling </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">with</span> <span style="color: #24909d">open</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&#39;.input.dat&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #ed9d13">&#39;r&#39;</span><span style="color: #d0d0d0">)</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #d0d0d0">infile:</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">line</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #d0d0d0">infile:</span>
        <span style="color: #d0d0d0">...</span>
</pre></div>
<p>
No need to close the file when using <code>with</code>

<p>

</section>


<section>

<h2 id="___sec53">File writing </h2>

<ul>
 <p><li> We have \( t \) and \( s(t) \) values in two lists, <code>t_values</code> and
   <code>s_values</code></li>
 <p><li> Task: write these lists as a nicely formatted table in a file</li>
</ul>
<p>

Code:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">outfile</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">open</span><span style="color: #d0d0d0">(</span><span style="color: #ed9d13">&#39;table1.dat&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #ed9d13">&#39;w&#39;</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">outfile.write(</span><span style="color: #ed9d13">&#39;# t    s(t)\n&#39;</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># write table header</span>
<span style="color: #6ab825; font-weight: bold">for</span> <span style="color: #d0d0d0">t,</span> <span style="color: #d0d0d0">s</span> <span style="color: #6ab825; font-weight: bold">in</span> <span style="color: #24909d">zip</span><span style="color: #d0d0d0">(t_values,</span> <span style="color: #d0d0d0">s_values):</span>
    <span style="color: #d0d0d0">outfile.write(</span><span style="color: #ed9d13">&#39;%.2f  %.4f\n&#39;</span> <span style="color: #d0d0d0">%</span> <span style="color: #d0d0d0">(t,</span> <span style="color: #d0d0d0">s))</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec54">Simplified writing of tabular data to file via <code>numpy.savetxt</code> </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">import</span> <span style="color: #447fcf; text-decoration: underline">numpy</span> <span style="color: #6ab825; font-weight: bold">as</span> <span style="color: #447fcf; text-decoration: underline">np</span>
<span style="color: #999999; font-style: italic"># Make two-dimensional array of [t, s(t)] values in each row</span>
<span style="color: #d0d0d0">data</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.array([t_values,</span> <span style="color: #d0d0d0">s_values]).transpose()</span>

<span style="color: #999999; font-style: italic"># Write data array to file in table format</span>
<span style="color: #d0d0d0">np.savetxt(</span><span style="color: #ed9d13">&#39;table2.dat&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">data,</span> <span style="color: #d0d0d0">fmt=[</span><span style="color: #ed9d13">&#39;%.2f&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #ed9d13">&#39;%.4f&#39;</span><span style="color: #d0d0d0">],</span>
           <span style="color: #d0d0d0">header=</span><span style="color: #ed9d13">&#39;t   s(t)&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">comments=</span><span style="color: #ed9d13">&#39;# &#39;</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
<code>table2.dat</code>:

<p>

<!-- code=text (!bc dat) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"># t   s(t)
0.00 0.0000
0.10 0.2010
0.20 0.4040
0.30 0.6090
0.40 0.8160
0.50 1.0250
0.60 1.2360
...
1.90 4.1610
2.00 4.4000
</pre></div>
<p>

</section>


<section>

<h2 id="___sec55">Simplified reading of tabular data from file via <code>numpy.loadtxt</code> </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">data</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">np.loadtxt(</span><span style="color: #ed9d13">&#39;table2.dat&#39;</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">comments=</span><span style="color: #ed9d13">&#39;#&#39;</span><span style="color: #d0d0d0">)</span>
</pre></div>
<p>
Note:

<ul>
 <p><li> Lines beginning with the comment character <code>#</code> are skipped in the reading</li>
 <p><li> <code>data</code> is a two-dimensional array: <code>data[i,0]</code>
   holds the \( t \) value and <code>data[i,1]</code> the \( s(t) \) value in the <code>i</code>-th
   row</li>
</ul>
<p>


</section>


<section>

<h1 id="basics:class">Classes</h1>

<p>
<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
 <p><li> All objects in Python are made from a class</li>
 <p><li> You don't need to know about classes to use Python</li>
 <p><li> But class programming is powerful</li>
</ul>
</div>


<p>
<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>

<ul>
 <p><li> Class = functions + variables packed together</li>
 <p><li> A class is a logical unit in a program</li>
 <p><li> A large program as a combination of appropriate units</li>
</ul>
</div>


<p>

</section>


<section>

<h2 id="___sec57">A very simple class </h2>

<ul>
 <p><li> One variable: <code>a</code></li>
 <p><li> One function: <code>dump</code> for printing <code>a</code></li>
</ul>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">class</span> <span style="color: #447fcf; text-decoration: underline">Trivial</span><span style="color: #d0d0d0">:</span>
    <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">__init__</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">self</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a):</span>
        <span style="color: #24909d">self</span><span style="color: #d0d0d0">.a</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">a</span>

    <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">dump</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">self</span><span style="color: #d0d0d0">):</span>
        <span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #24909d">self</span><span style="color: #d0d0d0">.a</span>
</pre></div>
<p>
Class terminology: Functions are called
<em>methods</em> and variables are called <em>attributes</em>.

<p>

</section>


<section>

<h2 id="___sec58">How can we use this class? </h2>

<p>
First, make an <em>instance</em> (object) of the class:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">t</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Trivial(a=</span><span style="color: #3677a9">4</span><span style="color: #d0d0d0">)</span>
<span style="color: #d0d0d0">t.dump()</span>
</pre></div>
<p>
Note:

<ul>
 <p><li> The syntax <code>Trivial(a=4)</code> actually means <code>Trivial.__init__(t, 4)</code></li>
 <p><li> <code>self</code> is an argument in <code>__init__</code> and <code>dump</code>, but not used in the calls</li>
 <p><li> <code>__init__</code> is called <em>constructor</em> and is used to construct an object
   (instance) if the class</li>
 <p><li> <code>t.dump()</code> actually means <code>Trivial.dump(t)</code> (<code>self</code> is <code>t</code>)</li>
</ul>
<p>


</section>


<section>

<h2 id="___sec59">The <code>self</code> argument is a difficult thing for newcomers... </h2>

<p>
It takes time and experience to understand the <code>self</code> argument in
class methods!

<ol>
<p><li> <code>self</code> must always be the first argument</li>
<p><li> <code>self</code> is never used in calls</li>
<p><li> <code>self</code> is used to access attributes and methods inside methods</li>
</ol>
<p>

We refer to a <a href="http://hplgit.github.io/primer.html/doc/pub/class/index.html" target="_blank">more comprehensive text on classes</a>
for better explanation of <code>self</code>.

<p>
<div class="alert alert-block alert-block alert-text-normal">
<b></b>
<p>
<code>self</code> is confusing in the beginning, but later it greatly helps
the understanding of how classes work!
</div>


<p>

</section>


<section>

<h2 id="___sec60">A class for representing a mathematical function </h2>

<p>
Function with one independent variable \( t \) and two parameters
\( v_0 \) and \( a \):

<p>&nbsp;<br>
$$ s(t; v_0, a) = v_0t + \frac{1}{2}at^2$$
<p>&nbsp;<br>


<p>
Class representation of this function:

<ul>
 <p><li> <code>v0</code> and <code>a</code> are variables (data)</li>
 <p><li> A method to evaluate \( s(t) \), but just as a function of <code>t</code></li>
</ul>
<p>

Usage:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Distance(v0=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># create instance</span>
<span style="color: #d0d0d0">v</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(t=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">)</span>               <span style="color: #999999; font-style: italic"># compute formula</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec61">The class code </h2>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">class</span> <span style="color: #447fcf; text-decoration: underline">Distance</span><span style="color: #d0d0d0">:</span>
    <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">__init__</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">self</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a):</span>
        <span style="color: #24909d">self</span><span style="color: #d0d0d0">.v0</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">v0</span>
        <span style="color: #24909d">self</span><span style="color: #d0d0d0">.a</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">a</span>

    <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">__call__</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">self</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">t):</span>
        <span style="color: #d0d0d0">v0,</span> <span style="color: #d0d0d0">a</span> <span style="color: #d0d0d0">=</span> <span style="color: #24909d">self</span><span style="color: #d0d0d0">.v0,</span> <span style="color: #24909d">self</span><span style="color: #d0d0d0">.a</span>  <span style="color: #999999; font-style: italic"># make local variables</span>
        <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">v0*t</span> <span style="color: #d0d0d0">+</span> <span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">*a*t**</span><span style="color: #3677a9">2</span>

<span style="color: #d0d0d0">s</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Distance(v0=</span><span style="color: #3677a9">2</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">a=</span><span style="color: #3677a9">0.5</span><span style="color: #d0d0d0">)</span>  <span style="color: #999999; font-style: italic"># create instance</span>
<span style="color: #d0d0d0">v</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">s(t=</span><span style="color: #3677a9">0.2</span><span style="color: #d0d0d0">)</span>               <span style="color: #999999; font-style: italic"># actually s.__call__(t=0.2)</span>
</pre></div>
<p>

</section>


<section>

<h2 id="___sec62">Class implementation of \( f(x,y,z; p_1,p_2,\ldots,p_n) \) </h2>

<ul>
 <p><li> The \( n \) parameters \( p_1,p_2,\ldots,p_n \) are attributes</li>
 <p><li> <code>__call__(self, x, y, z)</code> is used to compute \( f(x, y, z) \)</li>
</ul>
<p>

<p>

<!-- code=python (!bc pycod) typeset with pygments style "native" -->
<div class="highlight" style="background: #202020"><pre style="font-size: 110%; font-size: 80%; line-height: 125%"><span style="color: #6ab825; font-weight: bold">class</span> <span style="color: #447fcf; text-decoration: underline">F</span><span style="color: #d0d0d0">:</span>
    <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">__init__</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">self</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">p1,</span> <span style="color: #d0d0d0">p2,</span> <span style="color: #d0d0d0">...):</span>
        <span style="color: #24909d">self</span><span style="color: #d0d0d0">.p1</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">p1</span>
        <span style="color: #24909d">self</span><span style="color: #d0d0d0">.p2</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">p2</span>
        <span style="color: #d0d0d0">...</span>

    <span style="color: #6ab825; font-weight: bold">def</span> <span style="color: #447fcf">__call__</span><span style="color: #d0d0d0">(</span><span style="color: #24909d">self</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">x,</span> <span style="color: #d0d0d0">y,</span> <span style="color: #d0d0d0">z):</span>
        <span style="color: #999999; font-style: italic"># return formula involving x, y, z and self.p1, self.p2 ...</span>

<span style="color: #d0d0d0">f</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">F(p1=...,</span> <span style="color: #d0d0d0">p2=...,</span> <span style="color: #d0d0d0">...)</span>   <span style="color: #999999; font-style: italic"># create instance with parameters</span>
<span style="color: #6ab825; font-weight: bold">print</span> <span style="color: #d0d0d0">f(</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">,</span> <span style="color: #3677a9">4</span><span style="color: #d0d0d0">,</span> <span style="color: #d0d0d0">-</span><span style="color: #3677a9">1</span><span style="color: #d0d0d0">)</span>            <span style="color: #999999; font-style: italic"># evaluate f(x,y,z) function</span>
</pre></div>
<p>


</section>



</div> <!-- class="slides" -->
</div> <!-- class="reveal" -->

<script src="reveal.js/lib/js/head.min.js"></script>
<script src="reveal.js/js/reveal.min.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

    // Display navigation controls in the bottom right corner
    controls: true,

    // Display progress bar (below the horiz. slider)
    progress: true,

    // Display the page number of the current slide
    slideNumber: true,

    // Push each slide change to the browser history
    history: false,

    // Enable keyboard shortcuts for navigation
    keyboard: true,

    // Enable the slide overview mode
    overview: true,

    // Vertical centering of slides
    //center: true,
    center: false,

    // Enables touch navigation on devices with touch input
    touch: true,

    // Loop the presentation
    loop: false,

    // Change the presentation direction to be RTL
    rtl: false,

    // Turns fragments on and off globally
    fragments: true,

    // Flags if the presentation is running in an embedded mode,
    // i.e. contained within a limited portion of the screen
    embedded: false,

    // Number of milliseconds between automatically proceeding to the
    // next slide, disabled when set to 0, this value can be overwritten
    // by using a data-autoslide attribute on your slides
    autoSlide: 0,

    // Stop auto-sliding after user input
    autoSlideStoppable: true,

    // Enable slide navigation via mouse wheel
    mouseWheel: false,

    // Hides the address bar on mobile devices
    hideAddressBar: true,

    // Opens links in an iframe preview overlay
    previewLinks: false,

    // Transition style
    transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

    // Transition speed
    transitionSpeed: 'default', // default/fast/slow

    // Transition style for full page slide backgrounds
    backgroundTransition: 'default', // default/none/slide/concave/convex/zoom

    // Number of slides away from the current that are visible
    viewDistance: 3,

    // Parallax background image
    //parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

    // Parallax background size
    //parallaxBackgroundSize: '' // CSS syntax, e.g. "2100px 900px"

    theme: Reveal.getQueryHash().theme, // available themes are in reveal.js/css/theme
    transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

});

Reveal.initialize({
    dependencies: [
        // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
        { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },

        // Interpret Markdown in <section> elements
        { src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },

        // Syntax highlight for <code> elements
        { src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

        // Zoom in and out with Alt+click
        { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },

        // Speaker notes
        { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },

        // Remote control your reveal.js presentation using a touch device
        //{ src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } },

        // MathJax
        //{ src: 'reveal.js/plugin/math/math.js', async: true }
    ]
});

Reveal.initialize({

    // The "normal" size of the presentation, aspect ratio will be preserved
    // when the presentation is scaled to fit different resolutions. Can be
    // specified using percentage units.
    width: 1170,  // original: 960,
    height: 700,

    // Factor of the display size that should remain empty around the content
    margin: 0.1,

    // Bounds for smallest/largest possible scale to apply to content
    minScale: 0.2,
    maxScale: 1.0

});
</script>

<!-- begin footer logo
<div style="position: absolute; bottom: 0px; left: 0; margin-left: 0px">
<img src="somelogo.png">
</div>
     end footer logo -->



</body>
</html>
